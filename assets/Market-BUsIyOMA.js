import{c,I as $,_ as B,a as g,r as j,o as i,d as V,m as x,b as L,u as w,e as ue,f as P,g as F,h as R,i as O,j as r,n as Z,k as n,l as W,w as A,C as de,p as Y,T as Ae,q as Qe,s as N,t as Ee,v as ke,x as pe,F as I,y as J,z as Ce,A as z,B as Oe,D as H,E as se,G as me,H as Le,J as Re,K as xe,L as ge,M as D,N as we,O as Be,P as Me,Q as Ie,R as Te}from"./index-CeTYK-5W.js";import{o as Ne,_ as Ve,b as fe,a as je,i as ne}from"./AppImage-D7ReJ4eW.js";import{B as ye,_ as ve}from"./index-DVtF39jQ.js";import{S as Je,o as Ze,H as T,b as U}from"./index-BOiy85Is.js";import{S as $e}from"./SearchOutlined-Bf5drQZL.js";import{r as ze,g as He}from"./proxy-D8QODYHm.js";import{S as Pe}from"./index-CJPewfZ1.js";import"./compact-item-CdLorVTS.js";var qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};function le(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){Ue(s,a,t[a])})}return s}function Ue(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}var G=function(e,t){var o=le({},e,t.attrs);return c($,le({},o,{icon:qe}),null)};G.displayName="ArrowLeftOutlined";G.inheritAttrs=!1;var Fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};function oe(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){Ye(s,a,t[a])})}return s}function Ye(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}var X=function(e,t){var o=oe({},e,t.attrs);return c($,oe({},o,{icon:Fe}),null)};X.displayName="DeleteOutlined";X.inheritAttrs=!1;var De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};function ae(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){We(s,a,t[a])})}return s}function We(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}var K=function(e,t){var o=ae({},e,t.attrs);return c($,ae({},o,{icon:De}),null)};K.displayName="AppstoreOutlined";K.inheritAttrs=!1;var Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"};function re(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){Xe(s,a,t[a])})}return s}function Xe(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}var ee=function(e,t){var o=re({},e,t.attrs);return c($,re({},o,{icon:Ge}),null)};ee.displayName="FullscreenExitOutlined";ee.inheritAttrs=!1;var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};function ie(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){et(s,a,t[a])})}return s}function et(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}var te=function(e,t){var o=ie({},e,t.attrs);return c($,ie({},o,{icon:Ke}),null)};te.displayName="FullscreenOutlined";te.inheritAttrs=!1;const tt={},st={class:"my-icon cursor-pressed"};function nt(s,e){return i(),g("div",st,[j(s.$slots,"default",{},void 0,!0)])}const q=B(tt,[["render",nt],["__scopeId","data-v-3c2380d5"]]),lt={key:0},ot={class:"flex gap-2 overflow-hidden"},at={class:"flex-1 overflow-hidden relative"},rt=V({__name:"MyModal",props:x({fullscreen:{type:Boolean},width:{default:"95%"},height:{default:"95%"}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:x(["close"],["update:modelValue"]),setup(s,{emit:e}){Qe(y=>({"4b5c12d8":n(_),"4b5c12c9":n(k)}));const t=e,o=L(innerHeight),a=w(s,"modelValue"),l=L(),f=L(),u=s;ue(l,()=>{E()}),P(()=>{(globalThis.innerWidth<640||globalThis.innerHeight<640)&&(f.value=!0),u.fullscreen&&(f.value=u.fullscreen)});const E=()=>{a.value=!1,t("close")},_=F(()=>u.width),k=F(()=>u.height);return(y,v)=>{const d=te,C=q,h=W,b=ee,m=de;return a.value?(i(),R(Ae,{key:0,to:"body"},[r("div",{class:"my-modal",style:Y({height:`${n(o)}px`})},[r("div",{ref_key:"modalRef",ref:l,class:Z([[n(f)?"fullscreen":"mini"],"modal-inner animate__animated animate__zoomIn flex flex-col"])},[r("div",{class:Z(["modal-head",[n(f)?"fullscreen-head":"default-head"]])},[n(f)?O("",!0):(i(),g("div",lt,[j(y.$slots,"title",{},void 0,!0)])),r("div",ot,[j(y.$slots,"extra",{},void 0,!0),n(f)?(i(),R(h,{key:1,title:"退出全屏"},{default:A(()=>[c(C,{onClick:v[1]||(v[1]=Q=>f.value=!1),class:"px-1"},{default:A(()=>[c(b)]),_:1})]),_:1})):(i(),R(h,{key:0,title:"全屏"},{default:A(()=>[c(C,{onClick:v[0]||(v[0]=Q=>f.value=!0),class:"px-1"},{default:A(()=>[c(d)]),_:1})]),_:1})),c(C,{onClick:E,class:"px-1"},{default:A(()=>[c(m)]),_:1})])],2),r("div",at,[j(y.$slots,"default",{},void 0,!0)])],2)],4)])):O("",!0)}}}),it=B(rt,[["__scopeId","data-v-d29f93d8"]]),ct={class:"h-full relative"},ut=["src"],dt={key:0,class:"loading"},pt={class:"text-[12px] text-amber text-xl opacity-100 absolute right-2 bottom-2"},mt=V({__name:"Browser",props:x({src:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const e=w(s,"modelValue"),t=s,o=L(null),a=L(!1),l=()=>{Ne(t.src)},f=()=>{a.value=!0},u=()=>{console.log("error")};return(E,_)=>{const k=Je,y=q,v=W,d=ye,C=it;return i(),R(C,{modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=h=>e.value=h)},{title:A(()=>_[1]||(_[1]=[N(" 内置浏览器 ")])),extra:A(()=>[c(v,{title:"外部打开"},{default:A(()=>[c(y,{class:"px-1",onClick:l},{default:A(()=>[c(k)]),_:1})]),_:1})]),default:A(()=>[r("div",ct,[r("iframe",{onError:u,src:E.src,frameborder:"0",class:Z(["w-full h-full",[n(a)?"opacity-100":"opacity-0"]]),ref_key:"iframeRef",ref:o,onLoad:f},null,42,ut),n(a)?O("",!0):(i(),g("div",dt,[_[3]||(_[3]=r("p",{class:"text-gray-600"},"正在加载中",-1)),_[4]||(_[4]=r("p",{class:"text-[12px] text-gray-400"},"如果加载失败,请点击跳转",-1)),r("p",null,[c(d,{size:"small",type:"dashed",onClick:l},{default:A(()=>_[2]||(_[2]=[N("跳转")])),_:1})])])),r("div",pt,[c(v,{title:"如果链接无法访问，请点击右上在新的窗口打开",placement:"left"},{default:A(()=>[c(n(Ee))]),_:1})])])]),_:1},8,["modelValue"])}}}),gt=B(mt,[["__scopeId","data-v-2928ee48"]]),ft={},yt={class:"entryTerm cursor-pressed"};function vt(s,e){return i(),g("div",yt,[j(s.$slots,"default",{},void 0,!0)])}const ce=B(ft,[["render",vt],["__scopeId","data-v-fc9dc66e"]]),ht={class:"search-history"},_t={key:0,class:"flex flex-col gap-4"},bt={class:"mb-2 center justify-between"},St={key:0,class:"list-items"},At={class:"list-items"},Qt={key:1},Et=["onClick"],kt={class:"w-[20px] h-[20px]"},Ct=["innerHTML"],Ot={class:"desc"},Lt={class:"flex-col"},Rt={class:"w-full text-left"},xt=V({__name:"SearchHistory",props:x({list:{}},{modelValue:{},modelModifiers:{},mode:{},modeModifiers:{}}),emits:x(["search"],["update:modelValue","update:mode"]),setup(s,{emit:e}){const t=w(s,"modelValue"),o=w(s,"mode"),a=e,l=ke("homeData"),f=F(()=>(l==null?void 0:l().entryTerm)??[]),u=pe(),E=v=>{t.value=v,o.value="search"},_=()=>{a("search")},k=()=>{u.historyList=[],Ce.success("清除成功")},y=(v,d)=>d?v.replace(new RegExp(d,"g"),`<span class="text-red-500">${d}</span>`):v;return(v,d)=>{const C=q,h=ve,b=Ve,m=ye,Q=Oe;return i(),g("div",ht,[o.value==="history"?(i(),g("div",_t,[r("div",null,[r("h3",bt,[d[0]||(d[0]=r("div",null,"历史记录",-1)),r("div",null,[c(C,{class:"w-[24px] h-[24px]",onClick:k},{default:A(()=>[c(n(X),{class:"text-[16px]"})]),_:1})])]),n(u).historyList.length>0?(i(),g("div",St,[(i(!0),g(I,null,J(n(u).historyList,p=>(i(),R(ce,{onClick:S=>E(p)},{default:A(()=>[N(z(p),1)]),_:2},1032,["onClick"]))),256))])):(i(),R(h,{key:1},{default:A(()=>d[1]||(d[1]=[r("span",{class:"text-[12px] text-gray"},"暂无搜索记录",-1)])),_:1}))]),r("div",null,[d[2]||(d[2]=r("h3",{class:"mb-2"},"词条",-1)),d[3]||(d[3]=r("div",{class:"text-slate-4 text-[12px]"},"跨分类搜索",-1)),r("div",At,[(i(!0),g(I,null,J(n(f),p=>(i(),R(ce,{onClick:S=>E(p.dictValue)},{default:A(()=>[N(z(p.dictValue),1)]),_:2},1032,["onClick"]))),256))])])])):(i(),g("ul",Qt,[v.list.length>0?(i(),g(I,{key:0},[(i(!0),g(I,null,J(v.list,p=>(i(),g("li",{onClick:S=>n(Ze)(p),class:"cursor-hand flex gap-4"},[r("div",kt,[c(b,{data:p,src:p.logo,"icon-style":"mini"},null,8,["data","src"])]),r("div",{class:"name",innerHTML:y(p.name,t.value)},null,8,Ct),r("div",Ot,z(p.des),1)],8,Et))),256)),r("li",Lt,[c(h,{class:"mt-4 mb-3"}),r("div",Rt,[c(m,{type:"primary",size:"small",onClick:_},{default:A(()=>d[4]||(d[4]=[N(" 全部 ")])),_:1})])])],64)):O("",!0),v.list.length===0?(i(),R(Q,{key:1})):O("",!0)]))])}}}),wt=B(xt,[["__scopeId","data-v-c538e226"]]),Bt="/web-nav/assets/grid-B_atniYp.png",Mt="data:image/png;base64,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",It={class:"flex justify-between gap-2"},Tt={class:"input-box"},Nt={class:"search"},Vt={key:0,class:"hidden sm:block"},jt=["src"],Jt=["src"],Zt={key:1,class:"popover"},$t={key:0},zt={class:"pop-content w-full"},Ht=V({__name:"MarketSearch",props:x({sticky:{type:Boolean},displayLayout:{type:Boolean}},{modelValue:{},modelModifiers:{},listStyle:{},listStyleModifiers:{}}),emits:x(["search","list","toggle-sidebar"],["update:modelValue","update:listStyle"]),setup(s,{emit:e}){const t=L(),o=e,a=L(),l=w(s,"modelValue"),f=L([]),u=H("popRef"),E=H("inputRef"),_=pe(),k=w(s,"listStyle"),y=me(),v=()=>{k.value=k.value==="list"?"grid":"list"},d=()=>{a.value=!1,l.value?(_.historyList.includes(l.value)&&_.historyList.splice(_.historyList.indexOf(l.value),1),_.historyList.unshift(l.value),t.value="search"):t.value="history",o("search",l.value),D.push({name:"home-search"})},C=()=>{l.value?(t.value="search",o("search",l.value)):t.value="history"},h=()=>{var Q;a.value=!0,l.value?(t.value="search",b()):t.value="history",(Q=E.value)==null||Q.select()},b=async()=>{const{data:Q}=await fe({size:8,current:1,name:l.value});f.value=Q.records},m=()=>{l.value="",f.value=[]};return se(l,async()=>{b()}),se(a,Q=>{Q||(f.value=[])}),ue(u,()=>{a.value=!1}),P(()=>{const Q=y.query;Q.k&&(l.value=Q.k,d())}),(Q,p)=>{const S=de,he=$e,_e=q,be=W,Se=ve;return i(),g("div",{class:Z(["market-search",[Q.sticky?"sticky-top":"default-style"]]),ref_key:"popRef",ref:u},[r("div",It,[r("div",{class:"icon cursor-pressed",onClick:p[0]||(p[0]=M=>o("toggle-sidebar"))},[p[5]||(p[5]=r("span",{class:"mr-1"},"菜单",-1)),c(n(K))]),r("div",Tt,[Le(r("input",{placeholder:"请输入关键字查询",onKeydown:xe(d,["enter"]),type:"text","onUpdate:modelValue":p[1]||(p[1]=M=>l.value=M),onFocus:h,ref_key:"inputRef",ref:E,onChange:C},null,544),[[Re,l.value]]),r("div",Nt,[l.value?(i(),g("div",{key:0,onClick:m,class:"item cursor-hand"},[c(S)])):O("",!0),r("div",{onClick:d,class:"item cursor-hand"},[c(he)])])])]),Q.displayLayout?(i(),g("div",Vt,[c(be,{title:"切换布局"},{default:A(()=>[c(_e,{class:"w-[32px] sm:w-[24px] sm:h-[24px]",onClick:v},{default:A(()=>[k.value==="grid"?(i(),g("img",{key:0,width:"16",height:"16",src:n(Bt)},null,8,jt)):(i(),g("img",{key:1,width:"16",height:"16",src:n(Mt)},null,8,Jt))]),_:1})]),_:1})])):O("",!0),n(a)?(i(),g("div",Zt,[n(t)==="search"?(i(),g("div",$t,[r("div",{class:"text-gray cursor-hand w-fit mt-2",onClick:p[2]||(p[2]=M=>t.value="history")},[c(n(G)),p[6]||(p[6]=N(" 返回 "))]),c(Se,{class:"mb-0"})])):O("",!0),r("div",zt,[c(wt,{mode:n(t),"onUpdate:mode":p[3]||(p[3]=M=>ge(t)?t.value=M:null),modelValue:l.value,"onUpdate:modelValue":p[4]||(p[4]=M=>l.value=M),list:n(f),onSearch:d},null,8,["mode","modelValue","list"])])])):O("",!0)],2)}}}),Pt=B(Ht,[["__scopeId","data-v-80e286cf"]]),qt={key:0,class:"sidebar"},Ut=["onClick"],Ft={class:"icon"},Yt=["src"],Dt={class:"name"},Wt=V({__name:"MarketSidebar",props:x({query:{}},{display:{},displayModifiers:{},modelValue:{},modelModifiers:{}}),emits:x(["change","toggle-sidebar"],["update:display","update:modelValue"]),setup(s,{emit:e}){const t=w(s,"display"),o=e,a=me(),l=w(s,"modelValue"),f=L([]),u=async()=>{if(f.value.length===0){const{data:y}=await je();f.value=y,f.value.unshift({id:0,categoryName:T,icon:ze,sortCode:0,state:"0"})}},E=y=>y.categoryName===T?y.icon:He(y.icon),_=y=>{l.value=y,y===T?D.push({name:"home-index"}):D.push({name:"home-list",query:{c:y}}),o("change"),o("toggle-sidebar")},k=()=>{t.value=!1};return P(()=>{u();const y=a.query;y.c&&(l.value=y.c,o("change"))}),(y,v)=>{const d=Pe,C=we;return i(),R(C,{enter:"slideInLeft",leave:"slideOutLeft"},{default:A(()=>[t.value?(i(),g("div",qt,[v[0]||(v[0]=r("div",{class:"sidebar-banner"},[r("img",{src:Be,width:"24"}),r("span",null,"应用分类")],-1)),r("ul",null,[(i(!0),g(I,null,J(n(f),(h,b)=>(i(),g("li",{onClick:m=>_(h.categoryName),key:b,class:Z([{"active-item":l.value===h.categoryName}])},[r("div",Ft,[h.icon?(i(),g("img",{key:0,src:E(h),alt:""},null,8,Yt)):O("",!0)]),r("div",Dt,z(h.categoryName),1)],10,Ut))),128)),n(f).length===0?(i(),g(I,{key:0},J(10,h=>r("li",{key:h},[c(d,{active:""})])),64)):O("",!0),r("li",{class:"close",onClick:k},"关闭")])])):O("",!0)]),_:1})}}}),Gt=B(Wt,[["__scopeId","data-v-04d185c9"]]),Xt=s=>L(Object.assign({current:1,size:20},s)).value,Kt=s=>L({records:[],total:0,size:0,current:0,pages:0,loading:!1,...s}).value,es=V({__name:"Market",props:{height:{}},setup(s){const e=L(T),t=H("marketRef"),o=H("marketContentRef"),a=Kt(),l=Xt({size:50,categoryName:"",name:"",isRecommend:"1",subCategory:"",siteType:"1"});let f=0;const u=L({displaySidebar:!1,displaySearch:!0,listType:"grid"}),E=()=>{l.current=1,l.isRecommend="",l.categoryName="",l.subCategory="",e.value="search",h()},_=()=>{if(!o.value)return;const{scrollTop:b}=o.value;ne()||b>64&&(u.value.displaySearch=b-f<0),f=b},k=()=>{l.current=1,h()},y=()=>{l.current=1,l.subCategory=""},v=b=>{ne()||(u.value.displaySidebar=b)},d=()=>{u.value.displaySidebar=globalThis.innerWidth>640},C=()=>{y(),e.value!==T?(l.categoryName=e.value,l.isRecommend=""):(l.categoryName="",l.isRecommend="1"),h()},h=async()=>{a.loading=!0,a.records=[];const{data:b}=await fe(l);a.records=b.records,l.total=b.total,a.loading=!1};return Me("resize",()=>{d()}),P(()=>{h(),d()}),(b,m)=>{const Q=Ie("RouterView"),p=gt;return i(),g(I,null,[r("div",{class:"market",ref_key:"marketRef",ref:t,style:Y({height:b.height})},[c(Gt,{display:n(u).displaySidebar,"onUpdate:display":m[0]||(m[0]=S=>n(u).displaySidebar=S),onChange:C,modelValue:n(e),"onUpdate:modelValue":m[1]||(m[1]=S=>ge(e)?e.value=S:null),onToggleSidebar:m[2]||(m[2]=S=>v(!1)),query:n(l)},null,8,["display","modelValue","query"]),r("div",{class:"market-content",onScroll:_,ref_key:"marketContentRef",ref:o},[c(Pt,{categoryName:n(l).categoryName,modelValue:n(l).name,"onUpdate:modelValue":m[3]||(m[3]=S=>n(l).name=S),onList:h,onSearch:E,"display-layout":n(e)!==n(T),sticky:n(u).displaySearch,onToggleSidebar:m[4]||(m[4]=S=>v(!0)),"list-style":n(u).listType,"onUpdate:listStyle":m[5]||(m[5]=S=>n(u).listType=S)},null,8,["categoryName","modelValue","display-layout","sticky","list-style"]),c(Q,{onChange:h,onFilter:k,sticky:n(u).displaySearch,subCategory:n(l).subCategory,"onUpdate:subCategory":m[6]||(m[6]=S=>n(l).subCategory=S),query:n(l),type:n(u).listType,table:n(a),displayLayout:n(e)!==n(T),"category-name":n(e),"list-style":n(u).listType,"onUpdate:listStyle":m[7]||(m[7]=S=>n(u).listType=S)},null,8,["sticky","subCategory","query","type","table","displayLayout","category-name","list-style"])],544),c(p,{modelValue:n(U).display,"onUpdate:modelValue":m[8]||(m[8]=S=>n(U).display=S),src:n(U).src},null,8,["modelValue","src"])],4),n(u)?O("",!0):(i(),g("div",{key:0,style:Y({height:b.height})},[c(n(Te),{spin:"",class:"mr-2"}),m[9]||(m[9]=N(" 正在加载... "))],4))],64)}}}),cs=B(es,[["__scopeId","data-v-c3c02ee3"]]);export{cs as default};
